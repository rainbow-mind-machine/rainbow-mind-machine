



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://pages.charlesreid1.com/b-rainbow-mind-machine/quickstart/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.2">
    
    
      
        <title>Quick Start - rainbow mind machine</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#quick-start" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://pages.charlesreid1.com/b-rainbow-mind-machine" title="rainbow mind machine" class="md-header-nav__button md-logo">
          
            <i class="md-icon">settings_input_component</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                rainbow mind machine
              </span>
              <span class="md-header-nav__topic">
                Quick Start
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://git.charlesreid1.com/bots/b-rainbow-mind-machine" title="Go to repository" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      b-rainbow-mind-machine
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">settings_input_component</i>
      
    </span>
    rainbow mind machine
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://git.charlesreid1.com/bots/b-rainbow-mind-machine" title="Go to repository" class="md-source" data-md-source="">
    
    <div class="md-source__repository">
      b-rainbow-mind-machine
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installing/" title="Installing" class="md-nav__link">
      Installing
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Quick Start" class="md-nav__link md-nav__link--active">
      Quick Start
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Components
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../keymaker/" title="Keymaker" class="md-nav__link">
      Keymaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../shepherd/" title="Shepherd" class="md-nav__link">
      Shepherd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sheep/" title="Sheep" class="md-nav__link">
      Sheep
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dev-workflow/" title="Developers Workflow" class="md-nav__link">
      Developers Workflow
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../credits/" title="Credits" class="md-nav__link">
      Credits
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h1>
<p>Let's walk through a quick example to illustrate
how this works.</p>
<p>Remember, we only have 3 objects we need to understand:</p>
<ul>
<li><a href="../keymaker/">The Keymaker</a> (makes/manages keys and authenticates with Twitter)</li>
<li><a href="../shepherd/">The Shepherd</a> (runs the flock; one shepherd = one bot flock)</li>
<li><a href="../sheep/">The Sheep</a> (runs a bot, and defines bot's behavior; one sheep = one bot)</li>
</ul>
<h1 id="keymaker-authentication-step">Keymaker: Authentication Step<a class="headerlink" href="#keymaker-authentication-step" title="Permanent link">&para;</a></h1>
<p>Also see the <a href="../keymaker/">keymaker</a> page.</p>
<p>The first step in rainbow mind machine is to run the Keymaker
to give the application permission to tweet on behalf of 
each of our bot users. This generates keys that the 
rainbow mind machine application requires be present 
to tweet as the bot flock.</p>
<p>The Keymaker takes a set of items, and creates
one key for each item. </p>
<p>A set of items might be 
a Python list with integers, or a folder full of 
text files, or a set of URLs, or just plain old 
string labels.</p>
<p>The keys are what allow our application to tweet 
using a bot account. </p>
<p>We call <code>make_a_key()</code> on each item to create each key.</p>
<p>The Keymaker <em>requires</em> that we specify
a <code>name</code> parameter to name the bot and a <code>json</code> parameter
to specify the location of the key.</p>
<p>Also note, this requires that your Twitter app's 
consumer secret and consumer token be set 
in <code>apikeys.py</code>.</p>
<p>In the example below, the "items" are strings containing the bot name.
This uses credentials in <code>apikeys.py</code> and outputs key files
at <code>keys/key1.json</code> and <code>keys/key2.json</code>.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">rainbowmindmachine</span> <span class="kn">as</span> <span class="nn">rmm</span>
<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s1">&#39;mkdir&#39;</span><span class="p">,</span><span class="s1">&#39;-p&#39;</span><span class="p">,</span><span class="s1">&#39;keys/&#39;</span><span class="p">])</span>

<span class="n">k</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">Keymaker</span><span class="p">()</span>

<span class="c1"># Create some keys</span>
<span class="n">k</span><span class="o">.</span><span class="n">make_key</span><span class="p">({</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Twitter Bot 1&#39;</span><span class="p">,</span>     <span class="c1"># This is the bot label</span>
    <span class="s1">&#39;json&#39;</span><span class="p">:</span><span class="s1">&#39;keys/key1.json&#39;</span>     <span class="c1"># This is the key file</span>
<span class="p">})</span>
<span class="n">k</span><span class="o">.</span><span class="n">make_key</span><span class="p">({</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Twitter Bot 2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;json&#39;</span><span class="p">:</span><span class="s1">&#39;keys/key2.json&#39;</span>
<span class="p">})</span>
</pre></div>


<p>When this script is run, the Keymaker will 
go through a series of interactive steps 
to create keys from each item.</p>
<h1 id="a-shepherd-to-run-the-bot-flock">A Shepherd to Run the Bot Flock<a class="headerlink" href="#a-shepherd-to-run-the-bot-flock" title="Permanent link">&para;</a></h1>
<p>Also see the <a href="../shepherd/">shepherd</a> page.</p>
<p>Once that is done, make a Shepherd for the bot flock,
and point it to the keys the Keymaker created 
in the <code>keys/</code> directory:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">rainbowmindmachine</span> <span class="kn">as</span> <span class="nn">rmm</span>

<span class="c1"># make the Shepherd</span>
<span class="n">sh</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">Shepherd</span><span class="p">(</span><span class="s2">&quot;keys/&quot;</span><span class="p">)</span>

<span class="c1"># Change everybody&#39;s Twitter page color</span>
<span class="n">sh</span><span class="o">.</span><span class="n">perform_action</span><span class="p">(</span><span class="s1">&#39;change color&#39;</span><span class="p">,</span><span class="s1">&#39;#CFC&#39;</span><span class="p">)</span>

<span class="c1"># Everybody tweet in parallel</span>
<span class="n">sh</span><span class="o">.</span><span class="n">perform_pool_action</span><span class="p">(</span><span class="s1">&#39;tweet&#39;</span><span class="p">)</span>
</pre></div>


<p>Now you can run this in screen or as a background process,
and it will sequentially change each bot's 
Twitter page color, and will then spin up
one thread per sheep.</p>
<h1 id="customizing-sheep">Customizing Sheep<a class="headerlink" href="#customizing-sheep" title="Permanent link">&para;</a></h1>
<p>Also see the <a href="../sheep/">sheep</a> page.</p>
<p>We didn't specify what kind of Sheep we want 
the Shepherd to create, so the Shepherd uses
the default <code>Sheep</code> class.</p>
<p>To change the behavior of your bot,
you can use built-in Sheep types
(<code>PhotoADaySheep</code>, <code>PoemSheep</code>, 
<code>QueneauSheep</code>, etc.) 
or you can extend the <code>Sheep</code> class
to define custom behaviors. </p>
<p>For example,
to define a new <code>populate_queue()</code> 
behavior:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">rmm</span> 

<span class="k">class</span> <span class="nc">CustomSheep</span><span class="p">(</span><span class="n">rmm</span><span class="o">.</span><span class="n">Sheep</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">populate_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">items</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>


<p>Then modify the Shepherd to use this 
new Sheep class:</p>
<div class="codehilite"><pre><span></span><span class="c1"># make the Shepherd</span>
<span class="n">sh</span> <span class="o">=</span> <span class="n">rmm</span><span class="o">.</span><span class="n">Shepherd</span><span class="p">(</span><span class="s2">&quot;keys/&quot;</span><span class="p">,</span> <span class="n">sheep_class</span><span class="o">=</span><span class="n">CustomSheep</span><span class="p">)</span>

<span class="c1"># Change everybody&#39;s Twitter page color</span>
<span class="n">sh</span><span class="o">.</span><span class="n">perform_action</span><span class="p">(</span><span class="s1">&#39;change color&#39;</span><span class="p">,</span><span class="s1">&#39;#CFC&#39;</span><span class="p">)</span>

<span class="c1"># Everybody tweet in parallel</span>
<span class="n">sh</span><span class="o">.</span><span class="n">perform_pool_action</span><span class="p">(</span><span class="s1">&#39;tweet&#39;</span><span class="p">)</span>
</pre></div>


<h1 id="more-examples">More Examples<a class="headerlink" href="#more-examples" title="Permanent link">&para;</a></h1>
<h2 id="example-ginsberg-bot-flock">Example: Ginsberg Bot Flock<a class="headerlink" href="#example-ginsberg-bot-flock" title="Permanent link">&para;</a></h2>
<p>The Ginsberg bot flock is a simple example of 
a flock running multiple <code>PoemSheep</code>, with 
each Sheep loading a poem from a text file 
and tweeting the poem one line at a time.</p>
<p>Source code: <a href="https://git.charlesreid1.com/bots/b-ginsberg">git.charlesreid1.com/bots/b-ginsberg</a>.</p>
<p>Bot page: <a href="https://pages.charlesreid1.com/b-ginsberg">pages.charlesreid1.com/b-ginsberg</a></p>
<h2 id="example-paradise-lost-bot-flock">Example: Paradise Lost Bot Flock<a class="headerlink" href="#example-paradise-lost-bot-flock" title="Permanent link">&para;</a></h2>
<p>The Paradise Lost bot flock is another simple example 
of a flock running multiple <code>PoemSheep</code>, with 
each Sheep loading a poem from a text file 
and tweeting the poem one line at a time.</p>
<p>Source code: <a href="https://git.charlesreid1.com/bots/b-milton">git.charlesreid1.com/bots/b-milton</a>.</p>
<p>Bot page: <a href="https://pages.charlesreid1.com/b-milton">pages.charlesreid1.com/b-milton</a></p>
<h2 id="example-apollo-space-junk-bot-flock">Example: Apollo Space Junk Bot Flock<a class="headerlink" href="#example-apollo-space-junk-bot-flock" title="Permanent link">&para;</a></h2>
<p>The Apollo Space Junk Bot Flock uses queneau generation
to create fake Apollo space mission radio chatter.
This bot flock runs multiple <code>QueneauSheep</code>.</p>
<p>Source code: <a href="https://git.charlesreid1.com/bots/b-apollo">git.charlesreid1.com/bots/b-apollo</a>.</p>
<p>Bot page: <a href="https://pages.charlesreid1.com/b-apollo">pages.charlesreid1.com/b-apollo</a></p>
<h2 id="example-mathematics-tripos-bot">Example: Mathematics Tripos Bot<a class="headerlink" href="#example-mathematics-tripos-bot" title="Permanent link">&para;</a></h2>
<p>The Math Tripos bot is basically a flock with a single photo-a-day bot.
It demonstrates how to create a bot flock with one single bot.</p>
<p>The Math Tripos bot has a directory full of 366 questions 
from the Cambridge University Mathematical Tripos,
in LaTeX format. Each LaTeX equation is converted to png.
The bot posts a new question each day.</p>
<p>Source code: <a href="https://git.charlesreid1.com/bots/b-tripos">git.charlesreid1.com/bots/b-tripos</a>.</p>
<p>Bot page: <a href="https://pages.charlesreid1.com/b-tripos">pages.charlesreid1.com/b-tripos</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../installing/" title="Installing" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installing
              </span>
            </div>
          </a>
        
        
          <a href="../keymaker/" title="Keymaker" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Keymaker
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://charlesreid1.com">Charles Reid</a>, released under the <a href="https://opensource.org/licenses/MIT">MIT License</a>. rainbowmindmachine@charlesreid1.com<br />Photo Credit: <a href="https://www.flickr.com/photos/russloar/">Russ Loar</a> under the <a href="https://creativecommons.org/licenses/by-nc-nd/2.0/">CC BY-NC-ND License</a>
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.0cf9b500.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
        <script src="../search/require.js"></script>
      
        <script src="../search/search.js"></script>
      
    
    
      
    
  </body>
</html>